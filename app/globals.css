@import "tailwindcss";
@import "@heroui/styles";

/* ============================================
   Tailwind v4 Theme Configuration
   (Replaces tailwind.config.ts)
   ============================================ */
@theme inline {
  /* Screen Breakpoints */
  --breakpoint-xs: 360px;
  --breakpoint-3xl: 1920px;
  
  /* Font Family */
  --font-ploni: 'Ploni', 'Rubik', sans-serif;
  
  /* Colors - Background */
  --color-background-dark: #080b0d;
  --color-background-darker: #050708;
  --color-background-card: rgba(26, 26, 26, 0.8);
  --color-background-card-solid: #1a1a1a;
  --color-background-hero: rgba(8, 11, 13, 0.6);
  
  /* Colors - Foreground */
  --color-foreground-light: #F2F2F2;
  --color-foreground-muted: #717171;
  --color-foreground-subtle: #4a4a4a;
  
  /* Colors - Accent (Gold) */
  --color-accent-orange: #D35400;
  --color-accent-gold: #ffaa3d;
  --color-accent-gold-light: #ffc46d;
  --color-accent-gold-dark: #cc8830;
  --color-accent-gold-muted: rgba(255, 170, 61, 0.6);
  
  /* Colors - Status */
  --color-status-available: #22c55e;
  --color-status-busy: #eab308;
  --color-status-offline: #ef4444;
  
  /* Box Shadow */
  --shadow-gold: 0 4px 20px rgba(255, 170, 61, 0.3);
  --shadow-gold-lg: 0 8px 40px rgba(255, 170, 61, 0.4);
  --shadow-gold-glow: 0 0 60px rgba(255, 170, 61, 0.25);
  --shadow-dark: 0 4px 20px rgba(0, 0, 0, 0.5);
  --shadow-dark-lg: 0 16px 48px rgba(0, 0, 0, 0.6);
  --shadow-inner-gold: inset 0 0 20px rgba(255, 170, 61, 0.1);
  --shadow-glass: 0 8px 32px rgba(0, 0, 0, 0.25);
  --shadow-glass-elevated: 0 16px 48px rgba(0, 0, 0, 0.35);
  
  /* Border Radius */
  --radius-4xl: 2rem;
  --radius-5xl: 2.5rem;
  
  /* Spacing */
  --spacing-18: 4.5rem;
  --spacing-22: 5.5rem;
  --spacing-88: 22rem;
  --spacing-128: 32rem;
  
  /* Z-Index */
  --z-60: 60;
  --z-70: 70;
  --z-80: 80;
  --z-90: 90;
  --z-100: 100;
  
  /* Transition Timing */
  --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
  --ease-reveal: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ============================================
   HeroUI Theme Overrides (Ramel Barbershop)
   ============================================ */
:root, [data-theme="dark"] {
  color-scheme: dark;
  
  /* Map gold brand to HeroUI accent */
  --accent: oklch(0.78 0.15 65);  /* Gold: #ffaa3d */
  --accent-foreground: oklch(0.15 0.01 285);  /* Dark text on gold */
  --accent-soft: oklch(0.78 0.15 65 / 15%);
  --accent-soft-foreground: oklch(0.78 0.15 65);
  
  /* Dark theme as default */
  --background: oklch(0.12 0.005 285);  /* #080b0d */
  --foreground: oklch(0.95 0 0);  /* #F2F2F2 */
  
  /* Surface - Slightly elevated */
  --surface: oklch(0.18 0.005 285);
  --surface-foreground: var(--foreground);
  
  /* Overlay - For modals */
  --overlay: oklch(0.20 0.005 285);
  --overlay-foreground: var(--foreground);
  
  /* Status Colors */
  --success: oklch(0.65 0.2 145);
  --success-foreground: var(--foreground);
  --warning: oklch(0.78 0.15 65);
  --warning-foreground: oklch(0.15 0.01 285);
  --danger: oklch(0.6 0.25 25);
  --danger-foreground: var(--foreground);
  
  /* Borders */
  --border: oklch(0.25 0.005 285);
  
  /* Radius */
  --radius: 0.75rem;
  --field-radius: 1rem;
  
  /* Shadows - Subtle for dark theme */
  --surface-shadow: none;
  --overlay-shadow: 0 16px 48px rgba(0, 0, 0, 0.5);
}

/* Design System Variables (Legacy Support) */
:root {
  /* Glass Effects */
  --glass-blur: 20px;
  --glass-blur-subtle: 12px;
  --glass-blur-strong: 28px;
  --glass-blur-intense: 36px;
  --glass-bg: rgba(26, 26, 26, 0.72);
  --glass-bg-subtle: rgba(26, 26, 26, 0.5);
  --glass-bg-strong: rgba(26, 26, 26, 0.88);
  --glass-bg-hero: rgba(8, 11, 13, 0.6);
  --glass-border: rgba(255, 255, 255, 0.12);
  --glass-border-subtle: rgba(255, 255, 255, 0.08);
  --glass-border-strong: rgba(255, 255, 255, 0.2);
  --glass-border-gold: rgba(255, 170, 61, 0.25);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
  --glass-shadow-elevated: 0 16px 48px rgba(0, 0, 0, 0.35);
  --glass-shadow-gold: 0 8px 32px rgba(255, 170, 61, 0.15);
  
  /* Border Radii */
  --glass-radius-sm: 12px;
  --glass-radius-md: 16px;
  --glass-radius-lg: 20px;
  --glass-radius-xl: 24px;
  --glass-radius-2xl: 28px;
  --glass-radius-3xl: 32px;
  
  /* Transitions */
  --glass-transition: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --glass-transition-spring: 400ms cubic-bezier(0.34, 1.56, 0.64, 1);
  --transition-reveal: 600ms cubic-bezier(0.16, 1, 0.3, 1);
  --transition-micro: 150ms ease-out;
  
  /* Section Spacing - Unified */
  --section-padding-mobile: 48px;
  --section-padding-tablet: 64px;
  --section-padding-desktop: 80px;
  --section-gap: 24px;
  
  /* Safe Areas */
  --safe-area-inset-top: 0px;
  --safe-area-inset-right: 0px;
  --safe-area-inset-bottom: 0px;
  --safe-area-inset-left: 0px;
  
  /* Header */
  --header-top-offset: 0px;
  --header-height: 70px;
  
  /* Gold Gradients */
  --gradient-gold: linear-gradient(135deg, #ffaa3d 0%, #ffc46d 50%, #ffaa3d 100%);
  --gradient-gold-radial: radial-gradient(ellipse at center, rgba(255, 170, 61, 0.15) 0%, transparent 70%);
  --gradient-gold-glow: radial-gradient(ellipse at center, rgba(255, 170, 61, 0.3) 0%, transparent 50%);
  
  /* Background Patterns */
  --pattern-dots: url("data:image/svg+xml,%3Csvg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23ffaa3d' fill-opacity='0.05'/%3E%3C/svg%3E");
  --pattern-grid: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h40v40H0V0zm1 1v38h38V1H1z' fill='%23ffffff' fill-opacity='0.02'/%3E%3C/svg%3E");
}

/* ============================================
   iOS Notch / Safe Area — Background Color Fix
   iOS 26 derives forehead/chin tint from body's
   computed background-color. We pin it to the
   exact hex value so iOS can always resolve it.
   ============================================ */
html,
body {
  background-color: #080b0d !important;
}

/* Safe Area for iOS 11.2+ */
@supports (padding-top: env(safe-area-inset-top)) {
  :root {
    --safe-area-inset-top: env(safe-area-inset-top);
    --safe-area-inset-right: env(safe-area-inset-right);
    --safe-area-inset-bottom: env(safe-area-inset-bottom);
    --safe-area-inset-left: env(safe-area-inset-left);
  }
}

/* Primary Font - Ploni */
@font-face {
  font-family: 'Ploni';
  src: url('/fonts/ploni-ultralight-aaa.otf') format('opentype');
  font-weight: 200;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Ploni';
  src: url('/fonts/ploni-light-aaa.otf') format('opentype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Ploni';
  src: url('/fonts/ploni-regular-aaa.otf') format('opentype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* Fallback Font - Rubik */
@font-face {
  font-family: 'Rubik';
  src: url('/fonts/Rubik/Rubik-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Rubik';
  src: url('/fonts/Rubik/Rubik-Medium.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Rubik';
  src: url('/fonts/Rubik/Rubik-Bold.ttf') format('truetype');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Rubik';
  src: url('/fonts/Rubik/Rubik-Light.ttf') format('truetype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

/* Base Styles */
@layer base {
  * {
    box-sizing: border-box;
  }

  html {
    line-height: 1.5;
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    /* Hardcoded hex — iOS 26 derives notch/forehead/chin tint from computed bg.
       Using hsl(var(--background)) was invalid because --background is oklch(). */
    background-color: #080b0d;
    color: #F2F2F2;
  }

  body {
    font-family: 'Ploni', 'Rubik', sans-serif;
    background-color: #080b0d;
    color: #F2F2F2;
    margin: 0;
    overflow-x: hidden;
  }

  h1, h2, h3, h4, h5, h6 {
    line-height: 1.2;
    margin: 0;
    padding: 0;
  }

  p {
    margin: 0;
    padding: 0;
  }

  img {
    max-width: 100%;
    height: auto;
  }

  /* Improve tap targets on mobile - excludes toggle switches and small icon buttons */
  button:not([role="switch"]):not(.toggle-switch):not(.icon-btn-sm),
  a:not(.icon-btn-sm) {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Default button styling - flex for alignment, use .icon-btn for centering */
  button {
    display: flex;
    align-items: center;
  }
  
  /* Toggle switches need smaller dimensions */
  button[role="switch"],
  .toggle-switch {
    min-height: 28px !important;
    max-height: 28px !important;
    min-width: 48px;
  }

  /* Prevent iOS zoom on input focus */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="tel"],
  input[type="number"],
  textarea {
    font-size: 16px !important;
  }

  /* Scrollbar - thin, squared, subtle white/gray */
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 0; /* Squared - no rounding */
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.25);
  }

  ::-webkit-scrollbar-thumb:active {
    background: rgba(255, 255, 255, 0.35);
  }

  /* Firefox */
  * {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.15) transparent;
  }

  /* Hide scrollbar on mobile for cleaner look */
  @media (max-width: 768px) {
    ::-webkit-scrollbar {
      width: 2px;
      height: 2px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.12);
    }
  }
}

/* Component Styles */
@layer components {
  /* ========================================
     SECTION SYSTEM - Unified containers
     ======================================== */
  
  /* Base section - consistent padding */
  .section-base {
    @apply relative w-full;
    padding-top: var(--section-padding-mobile);
    padding-bottom: var(--section-padding-mobile);
  }
  
  @media (min-width: 640px) {
    .section-base {
      padding-top: var(--section-padding-tablet);
      padding-bottom: var(--section-padding-tablet);
    }
  }
  
  @media (min-width: 1024px) {
    .section-base {
      padding-top: var(--section-padding-desktop);
      padding-bottom: var(--section-padding-desktop);
    }
  }
  
  /* Hero section - full viewport with notch handling */
  .section-hero {
    @apply relative w-full min-h-[100dvh] flex flex-col;
    padding-top: calc(var(--safe-area-inset-top) + var(--header-height));
  }
  
  /* Dark section variant */
  .section-dark {
    @apply relative w-full bg-background-dark;
    padding-top: var(--section-padding-mobile);
    padding-bottom: var(--section-padding-mobile);
  }
  
  @media (min-width: 640px) {
    .section-dark {
      padding-top: var(--section-padding-tablet);
      padding-bottom: var(--section-padding-tablet);
    }
  }
  
  @media (min-width: 1024px) {
    .section-dark {
      padding-top: var(--section-padding-desktop);
      padding-bottom: var(--section-padding-desktop);
    }
  }
  
  /* Darker section variant */
  .section-darker {
    @apply relative w-full bg-background-darker;
    padding-top: var(--section-padding-mobile);
    padding-bottom: var(--section-padding-mobile);
  }
  
  @media (min-width: 640px) {
    .section-darker {
      padding-top: var(--section-padding-tablet);
      padding-bottom: var(--section-padding-tablet);
    }
  }
  
  @media (min-width: 1024px) {
    .section-darker {
      padding-top: var(--section-padding-desktop);
      padding-bottom: var(--section-padding-desktop);
    }
  }
  
  /* Accent section with gold tint */
  .section-accent {
    @apply relative w-full;
    padding-top: var(--section-padding-mobile);
    padding-bottom: var(--section-padding-mobile);
    background: linear-gradient(180deg, #080b0d 0%, rgba(255, 170, 61, 0.03) 50%, #080b0d 100%);
  }
  
  @media (min-width: 640px) {
    .section-accent {
      padding-top: var(--section-padding-tablet);
      padding-bottom: var(--section-padding-tablet);
    }
  }
  
  @media (min-width: 1024px) {
    .section-accent {
      padding-top: var(--section-padding-desktop);
      padding-bottom: var(--section-padding-desktop);
    }
  }
  
  /* Section transition - smooth gradient between sections */
  .section-transition-top {
    @apply absolute top-0 left-0 right-0 h-24 pointer-events-none;
    background: linear-gradient(to bottom, #080b0d, transparent);
  }
  
  .section-transition-bottom {
    @apply absolute bottom-0 left-0 right-0 h-24 pointer-events-none;
    background: linear-gradient(to top, #080b0d, transparent);
  }
  
  /* ========================================
     GLASS CARD SYSTEM - Enhanced variants
     ======================================== */
  
  /* Glass Card - Base */
  .glass-card {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--glass-blur)) saturate(180%);
    -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(180%);
    border: 1px solid var(--glass-border);
    border-radius: var(--glass-radius-xl);
    box-shadow: var(--glass-shadow);
  }
  
  /* Glass Card - Hero variant (for overlay content) */
  .glass-hero {
    background: var(--glass-bg-hero);
    backdrop-filter: blur(var(--glass-blur-strong)) saturate(180%);
    -webkit-backdrop-filter: blur(var(--glass-blur-strong)) saturate(180%);
    border: 1px solid var(--glass-border-subtle);
    border-radius: var(--glass-radius-2xl);
    box-shadow: var(--glass-shadow-elevated);
  }
  
  /* Glass Card - Gold accent */
  .glass-gold {
    background: var(--glass-bg);
    backdrop-filter: blur(var(--glass-blur)) saturate(180%);
    -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(180%);
    border: 1px solid var(--glass-border-gold);
    border-radius: var(--glass-radius-xl);
    box-shadow: 0 4px 12px rgba(255, 170, 61, 0.08);
  }

  /* Elevated Glass (for floating elements) */
  .glass-elevated {
    background: var(--glass-bg-strong);
    backdrop-filter: blur(var(--glass-blur-strong)) saturate(200%);
    -webkit-backdrop-filter: blur(var(--glass-blur-strong)) saturate(200%);
    border: 1px solid var(--glass-border-strong);
    border-radius: var(--glass-radius-2xl);
    box-shadow: var(--glass-shadow-elevated);
  }

  /* Subtle Glass (less prominent) */
  .glass-subtle {
    background: var(--glass-bg-subtle);
    backdrop-filter: blur(var(--glass-blur-subtle)) saturate(150%);
    -webkit-backdrop-filter: blur(var(--glass-blur-subtle)) saturate(150%);
    border: 1px solid var(--glass-border-subtle);
    border-radius: var(--glass-radius-lg);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  }

  /* ========================================
     MICRO-INTERACTIONS - Tactile feedback
     ======================================== */
  
  /* Button press effect */
  .btn-press {
    @apply transition-transform;
    transition-duration: var(--transition-micro);
  }
  
  .btn-press:active {
    transform: scale(0.97);
  }
  
  /* Card lift on hover */
  .card-lift {
    @apply transition-all;
    transition-duration: var(--glass-transition);
  }
  
  .card-lift:hover {
    transform: translateY(-4px);
    box-shadow: var(--glass-shadow-elevated);
  }
  
  /* 3D Tilt effect container */
  .card-tilt {
    @apply transition-transform;
    transition-duration: var(--glass-transition);
    transform-style: preserve-3d;
    perspective: 1000px;
  }
  
  /* Gold border glow on hover */
  .border-glow {
    @apply transition-all;
    transition-duration: var(--glass-transition);
  }
  
  .border-glow:hover {
    border-color: var(--glass-border-gold);
    box-shadow: var(--glass-shadow-gold);
  }
  
  /* Pulse attention animation */
  .attention-pulse {
    animation: attention-pulse 2s ease-in-out infinite;
  }
  
  @keyframes attention-pulse {
    0%, 100% { 
      box-shadow: 0 0 0 0 rgba(255, 170, 61, 0.4);
    }
    50% { 
      box-shadow: 0 0 0 8px rgba(255, 170, 61, 0);
    }
  }
  
  /* Breathing glow for logos */
  .glow-breathe {
    animation: glow-breathe 3s ease-in-out infinite;
  }
  
  @keyframes glow-breathe {
    0%, 100% {
      filter: drop-shadow(0 0 20px rgba(255, 170, 61, 0.3));
    }
    50% {
      filter: drop-shadow(0 0 40px rgba(255, 170, 61, 0.5));
    }
  }

  /* Gold Glow Effect */
  .gold-glow {
    box-shadow: 0 0 40px rgba(255, 170, 61, 0.3);
  }

  .gold-glow-sm {
    box-shadow: 0 0 20px rgba(255, 170, 61, 0.2);
  }

  /* Toggle Switch - ensures consistent sizing for all toggle buttons */
  .toggle-switch,
  button[role="switch"] {
    @apply w-12 rounded-full transition-colors relative flex-shrink-0;
    height: 28px !important;
    min-height: 28px !important;
    max-height: 28px !important;
  }

  .toggle-switch .toggle-knob,
  button[role="switch"] .toggle-knob {
    @apply absolute top-1 w-5 h-5 rounded-full bg-white transition-all;
  }

  /* HeroUI Switch Component - Systematic Thumb Styling */
  /* Ensures the thumb (knob) is properly sized and positioned within the control */
  [data-slot="switch"] {
    @apply flex-shrink-0;
  }

  [data-slot="switch-control"] {
    @apply relative flex items-center rounded-full transition-colors;
    min-width: 44px;
    height: 24px;
    padding: 2px;
  }

  [data-slot="switch-thumb"] {
    @apply rounded-full bg-white shadow-sm transition-all duration-200;
    width: 20px;
    height: 20px;
    /* HeroUI uses data-checked for state */
  }

  /* Ensure thumb moves correctly when checked */
  [data-slot="switch-control"][data-checked="true"] [data-slot="switch-thumb"] {
    transform: translateX(calc(100% - 2px));
  }

  /* Override for RTL */
  [dir="rtl"] [data-slot="switch-control"][data-checked="true"] [data-slot="switch-thumb"] {
    transform: translateX(calc(-100% + 2px));
  }

  /* Larger switch variant for better touch targets */
  [data-slot="switch-control"].w-12 {
    min-width: 48px;
    height: 28px;
    padding: 3px;
  }

  [data-slot="switch-control"].w-12 [data-slot="switch-thumb"],
  [data-slot="switch-control"].w-11 [data-slot="switch-thumb"] {
    width: 22px;
    height: 22px;
  }

  [data-slot="switch-control"].h-7 {
    height: 28px;
    padding: 3px;
  }

  [data-slot="switch-control"].h-6 {
    height: 24px;
    padding: 2px;
  }

  [data-slot="switch-control"].h-6 [data-slot="switch-thumb"] {
    width: 20px;
    height: 20px;
  }

  /* Icon Button - ensures icon centering */
  .icon-btn {
    @apply flex items-center justify-center flex-shrink-0;
  }
  
  /* Small icon button - for buttons that don't need 44px min-height */
  .icon-btn-sm {
    @apply flex items-center justify-center flex-shrink-0;
    min-height: auto !important;
    min-width: auto !important;
  }

  /* Vintage Border */
  .vintage-border {
    @apply border-2 border-accent-gold/40;
    border-image: linear-gradient(135deg, #ffaa3d 0%, #7A5230 50%, #ffaa3d 100%) 1;
  }

  /* Section Title with Lines */
  .section-title {
    @apply text-center text-2xl md:text-3xl font-light tracking-wide uppercase text-foreground-light;
    display: grid;
    grid-template-columns: 1fr max-content 1fr;
    grid-gap: 16px;
    align-items: center;
  }

  .section-title::after,
  .section-title::before {
    content: "";
    display: block;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(255, 170, 61, 0.5), transparent);
  }

  /* Barber Pole Stripe Pattern */
  .barber-pole {
    background: repeating-linear-gradient(
      45deg,
      #D35400,
      #D35400 10px,
      #F2F2F2 10px,
      #F2F2F2 20px,
      #080b0d 20px,
      #080b0d 30px
    );
    background-size: 100% 50px;
    animation: barber-pole 2s linear infinite;
  }

  /* Touch-friendly button */
  .touch-btn {
    @apply min-h-[48px] min-w-[48px] flex items-center justify-center;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }

  /* Mobile-first container */
  .container-mobile {
    @apply px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto;
  }

  /* Shimmer loading effect */
  .shimmer {
    background: linear-gradient(
      90deg,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.1) 50%,
      rgba(255, 255, 255, 0) 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
  }
}

/* Utilities */
@layer utilities {
  .content-style h1 {
    @apply text-center text-2xl md:text-3xl font-light tracking-wide uppercase text-foreground-light;
    display: grid;
    grid-template-columns: 1fr max-content 1fr;
    grid-gap: 16px;
    align-items: center;
  }
  
  .content-style h1::after,
  .content-style h1::before {
    content: "";
    display: block;
    height: 2px;
    background: linear-gradient(90deg, transparent, rgba(255, 170, 61, 0.5), transparent);
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Safe area padding for notched devices */
  .safe-bottom {
    padding-bottom: var(--safe-area-inset-bottom);
  }

  .safe-top {
    padding-top: var(--safe-area-inset-top);
  }

  .pb-safe {
    padding-bottom: max(var(--safe-area-inset-bottom), 8px);
  }

  .pt-safe {
    padding-top: max(var(--safe-area-inset-top), 8px);
  }

  /* Main content offset - accounts for fixed AppHeader + safe area inset */
  /* Use this on <main> elements that sit below the fixed AppHeader */
  .main-content-offset {
    padding-top: calc(var(--safe-area-inset-top, 0px) + 5rem); /* 80px header + safe area */
  }

  @media (min-width: 640px) {
    .main-content-offset {
      padding-top: calc(var(--safe-area-inset-top, 0px) + 6rem); /* 96px header + safe area */
    }
  }

  /* Text gradients */
  .text-gradient-gold {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-accent-gold via-accent-gold-light to-accent-gold;
  }
  
  .text-gradient-gold-animated {
    background: linear-gradient(90deg, #ffaa3d, #ffc46d, #ffaa3d, #ffc46d);
    background-size: 300% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    animation: gradient-shift 4s ease infinite;
  }
  
  @keyframes gradient-shift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  /* Animation delays - Extended */
  .animation-delay-100 { animation-delay: 100ms; }
  .animation-delay-200 { animation-delay: 200ms; }
  .animation-delay-300 { animation-delay: 300ms; }
  .animation-delay-400 { animation-delay: 400ms; }
  .animation-delay-500 { animation-delay: 500ms; }
  .animation-delay-600 { animation-delay: 600ms; }
  .animation-delay-700 { animation-delay: 700ms; }
  .animation-delay-800 { animation-delay: 800ms; }
  
  /* Reveal animations - for orchestrated page load */
  .reveal {
    opacity: 0;
    transform: translateY(20px);
  }
  
  .reveal.revealed {
    animation: reveal-up var(--transition-reveal) forwards;
  }
  
  @keyframes reveal-up {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .reveal-scale {
    opacity: 0;
    transform: scale(0.95);
  }
  
  .reveal-scale.revealed {
    animation: reveal-scale var(--transition-reveal) forwards;
  }
  
  @keyframes reveal-scale {
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  .reveal-fade {
    opacity: 0;
  }
  
  .reveal-fade.revealed {
    animation: reveal-fade var(--transition-reveal) forwards;
  }
  
  @keyframes reveal-fade {
    to {
      opacity: 1;
    }
  }
  
  /* Horizontal scroll container - for mobile carousels */
  .scroll-x {
    @apply flex overflow-x-auto snap-x snap-mandatory;
    -ms-overflow-style: none;
    scrollbar-width: none;
    scroll-padding: 16px;
    -webkit-overflow-scrolling: touch;
  }
  
  .scroll-x::-webkit-scrollbar {
    display: none;
  }
  
  .scroll-x > * {
    @apply snap-center flex-shrink-0;
  }
  
  /* Peek effect for carousels */
  .carousel-peek {
    @apply flex overflow-x-auto snap-x snap-mandatory;
    -ms-overflow-style: none;
    scrollbar-width: none;
    scroll-padding: 16px;
    -webkit-overflow-scrolling: touch;
    padding-left: 16px;
    padding-right: 16px;
  }
  
  .carousel-peek::-webkit-scrollbar {
    display: none;
  }
  
  .carousel-peek::before,
  .carousel-peek::after {
    content: '';
    flex-shrink: 0;
    width: 8px;
  }
  
  /* RTL-aware gradients */
  .gradient-fade-start {
    background: linear-gradient(to left, transparent, #080b0d);
  }
  
  .gradient-fade-end {
    background: linear-gradient(to right, transparent, #080b0d);
  }
  
  [dir="rtl"] .gradient-fade-start,
  :root[dir="rtl"] .gradient-fade-start {
    background: linear-gradient(to right, transparent, #080b0d);
  }
  
  [dir="rtl"] .gradient-fade-end,
  :root[dir="rtl"] .gradient-fade-end {
    background: linear-gradient(to left, transparent, #080b0d);
  }
  
  /* Status indicators */
  .status-dot {
    @apply w-2 h-2 rounded-full;
  }
  
  .status-dot-online {
    @apply w-2 h-2 rounded-full bg-green-500;
    box-shadow: 0 0 8px rgba(34, 197, 94, 0.5);
  }
  
  .status-dot-offline {
    @apply w-2 h-2 rounded-full bg-red-500;
    box-shadow: 0 0 8px rgba(239, 68, 68, 0.5);
  }
  
  .status-dot-busy {
    @apply w-2 h-2 rounded-full bg-yellow-500;
    box-shadow: 0 0 8px rgba(234, 179, 8, 0.5);
  }
}

/* RTL Enhancements */
[dir="rtl"] {
  /* Ensure proper text alignment */
  text-align: right;
  
  /* Fix icon positioning in buttons for RTL */
  .icon-start {
    @apply order-last;
  }
  
  .icon-end {
    @apply order-first;
  }
}

/* RTL-specific transforms - flip horizontal animations */
[dir="rtl"] {
  /* Flip chevron animations */
  .chevron-animate {
    transform: scaleX(-1);
  }
  
  /* Ensure scroll containers work in RTL */
  .scroll-x {
    direction: rtl;
  }
}

/* PWA Standalone Mode */
@media (display-mode: standalone) {
  :root {
    --header-top-offset: env(safe-area-inset-top, 0px);
  }

  /* Adjust body for safe areas */
  body {
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
    /* Add padding for left/right safe areas (notch on landscape) */
    padding-left: env(safe-area-inset-left, 0);
    padding-right: env(safe-area-inset-right, 0);
  }

  /* Notch area background - fills the safe area inset */
  /* z-index is BELOW header (50) but above content */
  /* Default: show the dark notch overlay */
  /* iOS 26: Prevents fixed-element tinting bug from affecting the forehead */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: env(safe-area-inset-top, 0);
    background-color: #080b0d !important;
    z-index: 40; /* Below header z-50, above content */
    pointer-events: none;
    /* Prevent iOS from treating this pseudo-element as a "fixed element" for tinting */
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
  
  /* Bottom chin area background for consistency */
  body::after {
    content: '';
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    height: env(safe-area-inset-bottom, 0);
    background-color: #080b0d !important;
    z-index: 40;
    pointer-events: none;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
  }
  
  /* Hide the notch overlay when page uses edge-to-edge hero mode */
  /* Fallback class set via JS - works in all browsers */
  body.hero-edge-to-edge-active::before {
    display: none !important;
  }
  
  /* Also hide chin overlay for edge-to-edge hero pages if needed */
  body.hero-edge-to-edge-active::after {
    display: none !important;
  }
  
  /* Edge-to-edge hero pages - allow content to flow into notch */
  [data-hero-edge-to-edge] {
    /* Ensure the container can extend above the normal flow */
    position: relative;
  }
  
  [data-hero-edge-to-edge] .hero-image-container {
    /* Pull the container up into the safe area (notch) */
    margin-top: calc(-1 * env(safe-area-inset-top, 0px));
  }
  
  /* The image inside should fill the entire container including notch area */
  [data-hero-edge-to-edge] .hero-image-container img,
  [data-hero-edge-to-edge] .hero-image-container > div {
    /* Ensure children fill the space */
  }
  
  /* Elements that should stay BELOW the notch (buttons, text overlays) */
  [data-hero-edge-to-edge] .hero-safe-content {
    /* Push content down by the safe area amount */
    padding-top: env(safe-area-inset-top, 0px);
  }

  /* Main content bottom padding for nav */
  main {
    padding-bottom: calc(5.5rem + env(safe-area-inset-bottom, 0));
  }

  /* Prevent rubber-band scrolling */
  html, body {
    overscroll-behavior-y: none;
  }
}

/* ============================================
   Edge-to-Edge Hero Mode (All Browsers)
   Allows hero images to extend into safe areas
   ============================================ */

/* Base styles for edge-to-edge hero - works in all browsers */
[data-hero-edge-to-edge] {
  position: relative;
}

/* In regular web mode (not standalone), just ensure smooth display */
[data-hero-edge-to-edge] .hero-image-container {
  position: relative;
  width: 100%;
}

/* Hero safe content - elements that should respect safe area */
[data-hero-edge-to-edge] .hero-safe-content {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  /* Safe area padding applied via PWA standalone styles above */
}

/* Safe area aware positioning for all modes */
@supports (padding-top: env(safe-area-inset-top)) {
  [data-hero-edge-to-edge] .hero-safe-content {
    /* Add safe area padding in browsers that support it */
    padding-top: env(safe-area-inset-top, 0px);
  }
}

/* Ensure the GallerySlideshow container fills including notch */
@media (display-mode: standalone) {
  @supports (padding-top: env(safe-area-inset-top)) {
    [data-hero-edge-to-edge] .hero-image-container {
      /* The container extends into notch */
      /* Images with absolute positioning will fill this space */
    }
    
    /* Ensure images inside cover the notch area */
    [data-hero-edge-to-edge] .hero-image-container [class*="absolute"][class*="inset-0"] {
      /* Extend to cover the pulled-up area */
      top: 0;
    }
  }
}

/* ============================================
   iOS Scroll Optimizations (iOS 18+ / iOS 26)
   Modern scroll APIs for PWA apps
   ============================================ */

html {
  scroll-behavior: smooth;
  /* Improve scroll performance */
  -webkit-font-smoothing: antialiased;
}

/* iOS-specific optimizations using feature detection */
@supports (-webkit-touch-callout: none) {
  html, body {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: contain;
  }

  [data-scroll], 
  .overflow-auto,
  .overflow-y-auto,
  .overflow-x-auto,
  .overflow-scroll,
  .scrollbar-hide {
    -webkit-overflow-scrolling: touch;
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }

  button, a, input, select, textarea {
    touch-action: manipulation;
  }

  .smooth-scroll {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }
  
  /* iOS momentum scrolling for carousels */
  .scroll-x,
  [class*="overflow-x-auto"] {
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x mandatory;
  }
  
  /* Prevent iOS double-tap zoom on interactive elements */
  .btn-press,
  .touch-btn {
    touch-action: manipulation;
  }
}

/* ============================================
   iOS Scroll Utility Classes
   Use these for systematic iOS-optimized scrolling
   ============================================ */

/* Main scrollable container - use on page roots */
.ios-scroll-container {
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: contain;
  scroll-behavior: smooth;
  /* GPU acceleration for smooth scrolling */
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  will-change: scroll-position;
}

/* Horizontal scroll with snap points - for carousels/galleries */
.ios-scroll-horizontal {
  display: flex;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth;
  overscroll-behavior-x: contain;
  /* Hide scrollbar for cleaner iOS look */
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.ios-scroll-horizontal::-webkit-scrollbar {
  display: none;
}

/* Snap points for children in horizontal scroll */
.ios-scroll-horizontal > * {
  scroll-snap-align: start;
  flex-shrink: 0;
}

/* Centered snap alignment */
.ios-scroll-horizontal-center > * {
  scroll-snap-align: center;
}

/* Vertical scroll with inertia - for long lists */
.ios-scroll-vertical {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  scroll-behavior: smooth;
  overscroll-behavior-y: contain;
  transform: translateZ(0);
}

/* Prevent overscroll bounce at edges */
.ios-no-bounce {
  overscroll-behavior: none;
}

/* Elastic/rubber-band effect (default iOS behavior) */
.ios-elastic {
  overscroll-behavior: auto;
}

/* Contain overscroll to element (no propagation to parent) */
.ios-overscroll-contain {
  overscroll-behavior: contain;
}

/* Modal/dialog scroll container - prevents background scroll */
.ios-modal-scroll {
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: contain;
  max-height: 100%;
  touch-action: pan-y;
}

/* Fixed positioned elements optimization */
.ios-fixed {
  position: fixed;
  will-change: transform;
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

@media (display-mode: standalone) {
  @supports (-webkit-touch-callout: none) {
    body {
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      touch-action: pan-y;
    }

    html {
      overscroll-behavior: none;
    }

    main, [role="main"], .main-content {
      -webkit-overflow-scrolling: touch;
      will-change: scroll-position;
    }

    header, nav, .fixed {
      will-change: transform;
      transform: translateZ(0);
    }
  }
}

/* Touch Optimization */
@media (hover: none) {
  *:focus {
    outline: none;
  }
}

button, [role="button"], a {
  -webkit-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

/* External Component Overrides */
.map-dark {
  filter: invert(90%) hue-rotate(180deg) brightness(0.9) contrast(0.9);
}

.map-dark img {
  filter: invert(100%) hue-rotate(180deg) brightness(1.1) contrast(1.1);
}

/* Mobile drawer overlay */
.drawer-overlay {
  @apply fixed inset-0 bg-black/60 backdrop-blur-sm z-40;
}

/* Mobile bottom nav safe area */
.bottom-nav-safe {
  padding-bottom: max(var(--safe-area-inset-bottom), 12px);
}

/* Focus visible styles */
*:focus-visible {
  @apply outline-none ring-2 ring-accent-gold ring-offset-2 ring-offset-background-dark;
}

/* ============================================
   Accessibility Utilities
   ============================================ */

/* Screen reader only - visually hidden but accessible */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Make sr-only visible on focus (for skip links) */
.sr-only-focusable:focus,
.sr-only-focusable:focus-within {
  position: static;
  width: auto;
  height: auto;
  padding: 0.75rem 1.5rem;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Skip link styles */
.skip-link {
  position: absolute;
  top: -100%;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
  padding: 0.75rem 1.5rem;
  background-color: #ffaa3d;
  color: #080b0d;
  font-weight: 600;
  border-radius: 0 0 12px 12px;
  text-decoration: none;
  transition: top 0.2s ease-out;
}

.skip-link:focus {
  top: 0;
  outline: none;
  box-shadow: 0 4px 12px rgba(255, 170, 61, 0.4);
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  /* Disable page transitions for reduced motion */
  .page-transition {
    animation: none !important;
  }
}

/* ============================================
   Page Transition Animations
   ============================================ */

/* Page content wrapper - add this class to page root elements */
.page-transition {
  animation: page-fade-in 0.25s ease-out forwards;
}

@keyframes page-fade-in {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Faster variant for dashboard pages */
.page-transition-fast {
  animation: page-fade-in-fast 0.15s ease-out forwards;
}

@keyframes page-fade-in-fast {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}